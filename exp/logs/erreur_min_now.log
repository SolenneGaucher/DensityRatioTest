> rm(list=ls())
> setwd("/workdir2/solenne.gaucher/FlowCytometry")
> # Load packages
> library(doParallel)
Le chargement a nécessité le package : foreach
Le chargement a nécessité le package : iterators
Le chargement a nécessité le package : parallel
> library(foreach)
> library(lubridate)

Attachement du package : ‘lubridate’

Les objets suivants sont masqués depuis ‘package:base’:

    date, intersect, setdiff, union

> 
> ################################ For parallelization ############################
> n.cores <- 2
> my.cluster <- parallel::makeCluster(
+   n.cores, 
+   type = "PSOCK",
+   outfile = ""
+ )
starting worker pid=2440712 on localhost:11858 at 11:00:38.048
starting worker pid=2440711 on localhost:11858 at 11:00:38.224
> doParallel::registerDoParallel(cl = my.cluster)
> 
> ########################### Simulations ########################### 
> print(paste("We begin the experiment, time is ", now()))
[1] "We begin the experiment, time is  2024-02-16 11:00:38"
> time_df <- foreach(i = 1:2, .combine=rbind) %dopar% {
+   library(lubridate)
+   print(paste("time is ", now()))
+   return(data.frame(time = now()))
+ }

Attachement du package : ‘lubridate’

Les objets suivants sont masqués depuis ‘package:base’:

    date, intersect, setdiff, union

[1] "time is  2024-02-16 11:00:38"

Attachement du package : ‘lubridate’

Les objets suivants sont masqués depuis ‘package:base’:

    date, intersect, setdiff, union

[1] "time is  2024-02-16 11:00:38"
> print(time_df)
                 time
1 2024-02-16 11:00:38
2 2024-02-16 11:00:38
> 
> parallel::stopCluster(cl = my.cluster)
> 
> 
> 
